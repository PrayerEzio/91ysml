<?php/** * Copyright (c) 2018. Lorem ipsum dolor sit amet, consectetur adipiscing elit. * Morbi non lorem porttitor neque feugiat blandit. Ut vitae ipsum eget quam lacinia accumsan. * Etiam sed turpis ac ipsum condimentum fringilla. Maecenas magna. * Proin dapibus sapien vel ante. Aliquam erat volutpat. Pellentesque sagittis ligula eget metus. * Vestibulum commodo. Ut rhoncus gravida arcu. */namespace App\Http\Controllers\Admin;use App\Http\Controllers\Controller;use App\Http\Models\Admin;use App\Http\Models\Message;use Illuminate\Foundation\Bus\DispatchesJobs;use Illuminate\Http\Request;use Illuminate\Foundation\Validation\ValidatesRequests;use Illuminate\Foundation\Auth\Access\AuthorizesRequests;use Illuminate\Support\Facades\Cache;use Illuminate\Support\Facades\Redirect;abstract class CommonController extends Controller{    use AuthorizesRequests, DispatchesJobs, ValidatesRequests;    //基类构造函数    public function __construct()    {        parent::__construct();    }    protected function getToken()    {        return session('_token');    }    //获取请求的方法    protected function requestMethod()    {        $request = new Request();        return strtoupper($request->thod());    }    protected function hasPermission($admin_id,$permission)    {        $admin = Admin::find($admin_id);        return $admin->hasPermissionTo($permission);    }}